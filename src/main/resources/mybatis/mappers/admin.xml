<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="admin">
	
	<resultMap id="resultMapAdminVo" type="StoreVo">
		<result column="store_no" property="storeNo" />
		<result column="store_name" property="storeName" />
		<result column="store_type" property="storeType" />
		<result column="store_business_no" property="storeBusinessNo" />
		<result column="store_address_road" property="storeAdressRoad" />
		<result column="store_address_detail" property="storeAdressDetail" />
		<result column="store_phone_no" property="storePhoneNo" />
		<result column="store_charge_week" property="storeChargeWeek" />
		<result column="store_charge_weekend" property="storeChargeWeekend" />
		<result column="store_description" property="storeDesc" />
		<result column="store_latitude" property="storeLat" />
		<result column="store_longitude" property="storeLng" />
	</resultMap>
	
	<!-- 매장 등록 -->
	<insert id="insertStoreInfo" parameterType="StoreVo">
		<![CDATA[
			INSERT INTO store
			VALUES(
				 sequence_store_no.NEXTVAL
				,#{userNo}
				,#{storeType}
				,#{storeName}
				,#{storeBusinessNo}
				,#{storeAdressRoad}
				,#{storeAdressDetail}
				,#{storeLat}
				,#{storeLng}
				,#{storePhoneNo}
				,#{storeDesc}
				,#{storeChargeWeek}
				,#{storeChargeWeekend}
				,1
				,1
			)
		]]>
	</insert>
	
	<!-- 매장 정보 -->
	<select id="selectStore" parameterType="int" resultMap="resultMapAdminVo">
		<![CDATA[
			SELECT 
				*
			FROM
				store
			WHERE user_no = #{userNo}
		]]>
	</select>
	
</mapper>