<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="reservation">

	<!-- 매장 요금제 꺼내오기 -->
	<select id="getstoreCharge" parameterType="int" resultType="StoreVo">
		<![CDATA[
			select store_charge_week as storeChargeWeek,
       			   store_charge_weekend as storeChargeWeekend
				   from store
				   where store_no = #{storeNo}
		]]>
	</select>
	
	<!-- DateType 가져오기 -->
	<select id="getDateType" parameterType="ReservationDateVo" resultType="String">
		<![CDATA[
			select date_type as dateType
			from reservation_date
			where store_no = #{storeNo} and store_reservation_date = #{storeReservationDate}
		]]>
	</select>
	
	<!-- 예약정보 입력 -->
	<insert id="insertreservation" parameterType="ReservationVo">
		<![CDATA[
			insert into reservation(reservation_no, store_no, reservation_charge_total, reservation_charge_people, reservation_status, reservation_type, reservation_date_no)
			values(seq_reservation_no.NEXTVAL, #{storeNo}, #{reservationChargeTotal}, #{reservationChargePeople}, '예약완료', #{reservationType}, #{reservationDateNo})
		]]>
	</insert>
	
	
	
</mapper>